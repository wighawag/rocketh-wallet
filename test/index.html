<!DOCTYPE html>
<html>
	<head>
		<title>Test</title>
	</head>
	<body>
        <!-- This exposes the library as a global variable: ethers -->
        <script src="./web3.min.js"
        charset="utf-8"
        type="text/javascript">
        </script>

        <script src="./bundle.js" 
        charset="utf-8"
        type="text/javascript">
        </script>
			
		<script>
            // var defaultProvider = new Web3.providers.HttpProvider('https://rinkeby.infura.io/v3/603eb7935c3b4d1285c08b68020c3001');
            var provider = new HtmlProvider('http://localhost:3000', 'https://rinkeby.infura.io/v3/603eb7935c3b4d1285c08b68020c3001');

            var web3 = new Web3(provider);
            web3.eth.getAccounts()
                .then(function(accounts) {
                    console.log('accounts', accounts);
                    return web3.eth.sendTransaction({from:accounts[0], to:accounts[0], value:1, gas:1})
                        .then(function(receipt) {
                            console.log('receipt', receipt);
                        })
                        .catch(function(error) {
                            console.error('sendTransaction error', error);
                        });
                })
                .catch(function(error) {
                    console.error('accounts error', error);
                });

            
		</script>
	</body>
</html>